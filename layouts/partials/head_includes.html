{{ if isset $.Site.Params "favicon"}}
<link rel="icon" href="{{ $.Site.Params.favicon | absURL }}">
{{ else }}
<link rel="icon" href="icons/favicon.ico">
{{ end }}
{{ if (fileExists "static/apple-touch-icon.png") -}}
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
{{- end}}
{{ if (fileExists "static/favicon-32x32.png") -}}
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
{{- end}}
{{ if (fileExists "static/favicon-16x16.png") -}}
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
{{- end}}
{{ if (fileExists "static/site.webmanifest") -}}
<link rel="manifest" href="/site.webmanifest">
{{- end}}
{{ if and (isset $.Site.Params.realfavicongenerator "mask_icon_color") (fileExists "static/safari-pinned-tab.svg") -}}
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="{{ $.Site.Params.realfavicongenerator.mask_icon_color}}">
{{- end}}
{{ if isset $.Site.Params.realfavicongenerator "msapplication_tilecolor" -}}
<meta name="msapplication-TileColor" content="{{ $.Site.Params.realfavicongenerator.msapplication_tilecolor}}">
{{- end}}
{{ if isset $.Site.Params.realfavicongenerator "theme_color" -}}
<meta name="theme-color" content="{{ $.Site.Params.realfavicongenerator.theme_color}}">
{{- end}}
<!-- Custom CSS -->
{{ range .Site.Params.custom_css }}
    <link rel="stylesheet" href="{{ . | absURL }}">
{{ end }}

{{ $style := resources.Get "sass/main.scss" | resources.ToCSS | resources.Minify | resources.Fingerprint }}
<link rel="stylesheet" href="{{ $style.Permalink }}">

<style>
    .mejs__overlay-button {
        background-image: url("/img/mejs-controls.svg");
    }
    .mejs__overlay-loading-bg-img {
        background-image: url("/img/mejs-controls.svg");
    }
    .mejs__button > button {
        background-image: url("/img/mejs-controls.svg");
    }
    </style>
{{ if eq .Section "blog" }}
    <link rel="alternate" type="application/rss+xml" title="{{$.Site.Title}}" href="{{"blog/index.xml" | absURL }}"/>
{{ else }}
    {{- if (isset $.Site.Params "rss_subscribe" ) -}}
        <link rel="alternate" type="application/rss+xml" title="{{$.Site.Title}}" href="{{$.Site.Params.rss_subscribe}}"/>
    {{- else -}}
        <link rel="alternate" type="application/rss+xml" title="{{$.Site.Title}}" href="{{"episode/index.xml" | absURL }}"/>
    {{- end -}}
{{ end }}

{{- $js := resources.Get "js/main.js" | js.Build (dict "minify" true "target" "es2015") | fingerprint -}}
<script type="text/javascript" src="{{ $js.Permalink }}"></script>
